version: 2

jobs:
 # must be called build for local circle cli to work
 # is actually unit tests
 build:
  branches:
    only:
      - master
      - circleci
  docker:
    - image: holochain/holochain-rust:latest
  resource_class: medium
  steps:
    - checkout
    - run:
        name: Holo ServiceLogger
        command: echo "starting CI for Holo ServiceLogger"
    - run:
        name: nix-shell
        command: nix-shell --packages rustup --packages rustc --packages cargo
        no_output_timeout: 45m
